{"ast":null,"code":"import React, { useRef, useState } from 'react';\nimport { renderToContainer } from '../../utils/render-to-container';\nimport Mask from '../mask';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { useIsomorphicLayoutEffect, useUnmountedRef } from 'ahooks';\nimport { animated, useSpring } from '@react-spring/web';\nimport { useInnerVisible } from '../../utils/use-inner-visible';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { ShouldRender } from '../../utils/should-render';\nimport { useLockScroll } from '../../utils/use-lock-scroll';\nimport { CloseOutline } from 'antd-mobile-icons';\nimport { defaultPopupBaseProps } from '../popup/popup-base-props';\nconst classPrefix = 'adm-center-popup';\nconst defaultProps = Object.assign(Object.assign({}, defaultPopupBaseProps), {\n  getContainer: null\n});\nexport const CenterPopup = p => {\n  const props = mergeProps(defaultProps, p);\n  const unmountedRef = useUnmountedRef();\n  const style = useSpring({\n    scale: props.visible ? 1 : 0.8,\n    opacity: props.visible ? 1 : 0,\n    config: {\n      mass: 1.2,\n      tension: 200,\n      friction: 25,\n      clamp: true\n    },\n    onRest: () => {\n      var _a, _b;\n      if (unmountedRef.current) return;\n      setActive(props.visible);\n      if (props.visible) {\n        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);\n      } else {\n        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);\n      }\n    }\n  });\n  const [active, setActive] = useState(props.visible);\n  useIsomorphicLayoutEffect(() => {\n    if (props.visible) {\n      setActive(true);\n    }\n  }, [props.visible]);\n  const ref = useRef(null);\n  useLockScroll(ref, props.disableBodyScroll && active);\n  const maskVisible = useInnerVisible(active && props.visible);\n  const body = React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-body`, props.bodyClassName),\n    style: props.bodyStyle\n  }, props.children);\n  const node = withStopPropagation(props.stopPropagation, withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix,\n    style: {\n      display: active ? undefined : 'none',\n      pointerEvents: active ? undefined : 'none'\n    }\n  }, props.mask && React.createElement(Mask, {\n    visible: maskVisible,\n    forceRender: props.forceRender,\n    destroyOnClose: props.destroyOnClose,\n    onMaskClick: e => {\n      var _a, _b;\n      (_a = props.onMaskClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      if (props.closeOnMaskClick) {\n        (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n      }\n    },\n    style: props.maskStyle,\n    className: classNames(`${classPrefix}-mask`, props.maskClassName),\n    disableBodyScroll: false,\n    stopPropagation: props.stopPropagation\n  }), React.createElement(\"div\", {\n    className: `${classPrefix}-wrap`,\n    role: props.role,\n    \"aria-label\": props['aria-label']\n  }, React.createElement(animated.div, {\n    style: Object.assign(Object.assign({}, style), {\n      pointerEvents: style.opacity.to(v => v === 1 ? 'unset' : 'none')\n    }),\n    ref: ref\n  }, props.showCloseButton && React.createElement(\"a\", {\n    className: classNames(`${classPrefix}-close`, 'adm-plain-anchor'),\n    onClick: () => {\n      var _a;\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, React.createElement(CloseOutline, null)), body)))));\n  return React.createElement(ShouldRender, {\n    active: active,\n    forceRender: props.forceRender,\n    destroyOnClose: props.destroyOnClose\n  }, renderToContainer(props.getContainer, node));\n};","map":{"version":3,"names":["React","useRef","useState","renderToContainer","Mask","withStopPropagation","mergeProps","useIsomorphicLayoutEffect","useUnmountedRef","animated","useSpring","useInnerVisible","classNames","withNativeProps","ShouldRender","useLockScroll","CloseOutline","defaultPopupBaseProps","classPrefix","defaultProps","Object","assign","getContainer","CenterPopup","p","props","unmountedRef","style","scale","visible","opacity","config","mass","tension","friction","clamp","onRest","_a","_b","current","setActive","afterShow","call","afterClose","active","ref","disableBodyScroll","maskVisible","body","createElement","className","bodyClassName","bodyStyle","children","node","stopPropagation","display","undefined","pointerEvents","mask","forceRender","destroyOnClose","onMaskClick","e","closeOnMaskClick","onClose","maskStyle","maskClassName","role","div","to","v","showCloseButton","onClick"],"sources":["C:/Users/86150/Desktop/GreenHouses_app/node_modules/antd-mobile/es/components/center-popup/center-popup.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { renderToContainer } from '../../utils/render-to-container';\nimport Mask from '../mask';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { useIsomorphicLayoutEffect, useUnmountedRef } from 'ahooks';\nimport { animated, useSpring } from '@react-spring/web';\nimport { useInnerVisible } from '../../utils/use-inner-visible';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { ShouldRender } from '../../utils/should-render';\nimport { useLockScroll } from '../../utils/use-lock-scroll';\nimport { CloseOutline } from 'antd-mobile-icons';\nimport { defaultPopupBaseProps } from '../popup/popup-base-props';\nconst classPrefix = 'adm-center-popup';\nconst defaultProps = Object.assign(Object.assign({}, defaultPopupBaseProps), {\n  getContainer: null\n});\nexport const CenterPopup = p => {\n  const props = mergeProps(defaultProps, p);\n  const unmountedRef = useUnmountedRef();\n  const style = useSpring({\n    scale: props.visible ? 1 : 0.8,\n    opacity: props.visible ? 1 : 0,\n    config: {\n      mass: 1.2,\n      tension: 200,\n      friction: 25,\n      clamp: true\n    },\n    onRest: () => {\n      var _a, _b;\n      if (unmountedRef.current) return;\n      setActive(props.visible);\n      if (props.visible) {\n        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);\n      } else {\n        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);\n      }\n    }\n  });\n  const [active, setActive] = useState(props.visible);\n  useIsomorphicLayoutEffect(() => {\n    if (props.visible) {\n      setActive(true);\n    }\n  }, [props.visible]);\n  const ref = useRef(null);\n  useLockScroll(ref, props.disableBodyScroll && active);\n  const maskVisible = useInnerVisible(active && props.visible);\n  const body = React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-body`, props.bodyClassName),\n    style: props.bodyStyle\n  }, props.children);\n  const node = withStopPropagation(props.stopPropagation, withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix,\n    style: {\n      display: active ? undefined : 'none',\n      pointerEvents: active ? undefined : 'none'\n    }\n  }, props.mask && React.createElement(Mask, {\n    visible: maskVisible,\n    forceRender: props.forceRender,\n    destroyOnClose: props.destroyOnClose,\n    onMaskClick: e => {\n      var _a, _b;\n      (_a = props.onMaskClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      if (props.closeOnMaskClick) {\n        (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);\n      }\n    },\n    style: props.maskStyle,\n    className: classNames(`${classPrefix}-mask`, props.maskClassName),\n    disableBodyScroll: false,\n    stopPropagation: props.stopPropagation\n  }), React.createElement(\"div\", {\n    className: `${classPrefix}-wrap`,\n    role: props.role,\n    \"aria-label\": props['aria-label']\n  }, React.createElement(animated.div, {\n    style: Object.assign(Object.assign({}, style), {\n      pointerEvents: style.opacity.to(v => v === 1 ? 'unset' : 'none')\n    }),\n    ref: ref\n  }, props.showCloseButton && React.createElement(\"a\", {\n    className: classNames(`${classPrefix}-close`, 'adm-plain-anchor'),\n    onClick: () => {\n      var _a;\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, React.createElement(CloseOutline, null)), body)))));\n  return React.createElement(ShouldRender, {\n    active: active,\n    forceRender: props.forceRender,\n    destroyOnClose: props.destroyOnClose\n  }, renderToContainer(props.getContainer, node));\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}