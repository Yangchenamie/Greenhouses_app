{"ast":null,"code":"import React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport runes from 'runes2';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { devError } from '../../utils/dev-log';\nconst classPrefix = 'adm-text-area';\nconst defaultProps = {\n  rows: 2,\n  showCount: false,\n  autoSize: false,\n  defaultValue: ''\n};\nexport const TextArea = forwardRef((p, ref) => {\n  const props = mergeProps(defaultProps, p);\n  const {\n    autoSize,\n    showCount,\n    maxLength\n  } = props;\n  const [value, setValue] = usePropsValue(Object.assign(Object.assign({}, props), {\n    value: props.value === null ? '' : props.value\n  }));\n  if (props.value === null) {\n    devError('TextArea', '`value` prop on `TextArea` should not be `null`. Consider using an empty string to clear the component.');\n  }\n  const nativeTextAreaRef = useRef(null);\n  // https://github.com/ant-design/ant-design-mobile/issues/5961\n  const heightRef = useRef('auto');\n  // https://github.com/ant-design/ant-design-mobile/issues/6051\n  const hiddenTextAreaRef = useRef(null);\n  useImperativeHandle(ref, () => ({\n    clear: () => {\n      setValue('');\n    },\n    focus: () => {\n      var _a;\n      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    },\n    blur: () => {\n      var _a;\n      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n    },\n    get nativeElement() {\n      return nativeTextAreaRef.current;\n    }\n  }));\n  useIsomorphicLayoutEffect(() => {\n    if (!autoSize) return;\n    const textArea = nativeTextAreaRef.current;\n    const hiddenTextArea = hiddenTextAreaRef.current;\n    if (!textArea) return;\n    textArea.style.height = heightRef.current;\n    if (!hiddenTextArea) return;\n    let height = hiddenTextArea.scrollHeight;\n    if (typeof autoSize === 'object') {\n      const computedStyle = window.getComputedStyle(textArea);\n      const lineHeight = parseFloat(computedStyle.lineHeight);\n      if (autoSize.minRows) {\n        height = Math.max(height, autoSize.minRows * lineHeight);\n      }\n      if (autoSize.maxRows) {\n        height = Math.min(height, autoSize.maxRows * lineHeight);\n      }\n    }\n    heightRef.current = `${height}px`;\n    textArea.style.height = `${height}px`;\n  }, [value, autoSize]);\n  const compositingRef = useRef(false);\n  let count;\n  const valueLength = runes(value).length;\n  if (typeof showCount === 'function') {\n    count = showCount(valueLength, maxLength);\n  } else if (showCount) {\n    count = React.createElement(\"div\", {\n      className: `${classPrefix}-count`\n    }, maxLength === undefined ? valueLength : valueLength + '/' + maxLength);\n  }\n  let rows = props.rows;\n  if (typeof autoSize === 'object') {\n    if (autoSize.maxRows && rows > autoSize.maxRows) {\n      rows = autoSize.maxRows;\n    }\n    if (autoSize.minRows && rows < autoSize.minRows) {\n      rows = autoSize.minRows;\n    }\n  }\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"textarea\", {\n    ref: nativeTextAreaRef,\n    className: `${classPrefix}-element`,\n    rows: rows,\n    value: value,\n    placeholder: props.placeholder,\n    onChange: e => {\n      let v = e.target.value;\n      if (maxLength && !compositingRef.current) {\n        v = runes(v).slice(0, maxLength).join('');\n      }\n      setValue(v);\n    },\n    id: props.id,\n    onCompositionStart: e => {\n      var _a;\n      compositingRef.current = true;\n      (_a = props.onCompositionStart) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onCompositionEnd: e => {\n      var _a;\n      compositingRef.current = false;\n      if (maxLength) {\n        const v = e.target.value;\n        setValue(runes(v).slice(0, maxLength).join(''));\n      }\n      (_a = props.onCompositionEnd) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    autoComplete: props.autoComplete,\n    autoFocus: props.autoFocus,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    name: props.name,\n    onFocus: props.onFocus,\n    onBlur: props.onBlur,\n    onClick: props.onClick\n  }), count, autoSize && React.createElement(\"textarea\", {\n    ref: hiddenTextAreaRef,\n    className: `${classPrefix}-element ${classPrefix}-element-hidden`,\n    value: value,\n    rows: rows,\n    \"aria-hidden\": true,\n    readOnly: true\n  })));\n});\nTextArea.defaultProps = defaultProps;","map":{"version":3,"names":["React","forwardRef","useImperativeHandle","useRef","useIsomorphicLayoutEffect","runes","withNativeProps","usePropsValue","mergeProps","devError","classPrefix","defaultProps","rows","showCount","autoSize","defaultValue","TextArea","p","ref","props","maxLength","value","setValue","Object","assign","nativeTextAreaRef","heightRef","hiddenTextAreaRef","clear","focus","_a","current","blur","nativeElement","textArea","hiddenTextArea","style","height","scrollHeight","computedStyle","window","getComputedStyle","lineHeight","parseFloat","minRows","Math","max","maxRows","min","compositingRef","count","valueLength","length","createElement","className","undefined","placeholder","onChange","e","v","target","slice","join","id","onCompositionStart","call","onCompositionEnd","autoComplete","autoFocus","disabled","readOnly","name","onFocus","onBlur","onClick"],"sources":["C:/Users/86150/Desktop/GreenHouses_app/node_modules/antd-mobile/es/components/text-area/text-area.js"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport runes from 'runes2';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { devError } from '../../utils/dev-log';\nconst classPrefix = 'adm-text-area';\nconst defaultProps = {\n  rows: 2,\n  showCount: false,\n  autoSize: false,\n  defaultValue: ''\n};\nexport const TextArea = forwardRef((p, ref) => {\n  const props = mergeProps(defaultProps, p);\n  const {\n    autoSize,\n    showCount,\n    maxLength\n  } = props;\n  const [value, setValue] = usePropsValue(Object.assign(Object.assign({}, props), {\n    value: props.value === null ? '' : props.value\n  }));\n  if (props.value === null) {\n    devError('TextArea', '`value` prop on `TextArea` should not be `null`. Consider using an empty string to clear the component.');\n  }\n  const nativeTextAreaRef = useRef(null);\n  // https://github.com/ant-design/ant-design-mobile/issues/5961\n  const heightRef = useRef('auto');\n  // https://github.com/ant-design/ant-design-mobile/issues/6051\n  const hiddenTextAreaRef = useRef(null);\n  useImperativeHandle(ref, () => ({\n    clear: () => {\n      setValue('');\n    },\n    focus: () => {\n      var _a;\n      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    },\n    blur: () => {\n      var _a;\n      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n    },\n    get nativeElement() {\n      return nativeTextAreaRef.current;\n    }\n  }));\n  useIsomorphicLayoutEffect(() => {\n    if (!autoSize) return;\n    const textArea = nativeTextAreaRef.current;\n    const hiddenTextArea = hiddenTextAreaRef.current;\n    if (!textArea) return;\n    textArea.style.height = heightRef.current;\n    if (!hiddenTextArea) return;\n    let height = hiddenTextArea.scrollHeight;\n    if (typeof autoSize === 'object') {\n      const computedStyle = window.getComputedStyle(textArea);\n      const lineHeight = parseFloat(computedStyle.lineHeight);\n      if (autoSize.minRows) {\n        height = Math.max(height, autoSize.minRows * lineHeight);\n      }\n      if (autoSize.maxRows) {\n        height = Math.min(height, autoSize.maxRows * lineHeight);\n      }\n    }\n    heightRef.current = `${height}px`;\n    textArea.style.height = `${height}px`;\n  }, [value, autoSize]);\n  const compositingRef = useRef(false);\n  let count;\n  const valueLength = runes(value).length;\n  if (typeof showCount === 'function') {\n    count = showCount(valueLength, maxLength);\n  } else if (showCount) {\n    count = React.createElement(\"div\", {\n      className: `${classPrefix}-count`\n    }, maxLength === undefined ? valueLength : valueLength + '/' + maxLength);\n  }\n  let rows = props.rows;\n  if (typeof autoSize === 'object') {\n    if (autoSize.maxRows && rows > autoSize.maxRows) {\n      rows = autoSize.maxRows;\n    }\n    if (autoSize.minRows && rows < autoSize.minRows) {\n      rows = autoSize.minRows;\n    }\n  }\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"textarea\", {\n    ref: nativeTextAreaRef,\n    className: `${classPrefix}-element`,\n    rows: rows,\n    value: value,\n    placeholder: props.placeholder,\n    onChange: e => {\n      let v = e.target.value;\n      if (maxLength && !compositingRef.current) {\n        v = runes(v).slice(0, maxLength).join('');\n      }\n      setValue(v);\n    },\n    id: props.id,\n    onCompositionStart: e => {\n      var _a;\n      compositingRef.current = true;\n      (_a = props.onCompositionStart) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onCompositionEnd: e => {\n      var _a;\n      compositingRef.current = false;\n      if (maxLength) {\n        const v = e.target.value;\n        setValue(runes(v).slice(0, maxLength).join(''));\n      }\n      (_a = props.onCompositionEnd) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    autoComplete: props.autoComplete,\n    autoFocus: props.autoFocus,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    name: props.name,\n    onFocus: props.onFocus,\n    onBlur: props.onBlur,\n    onClick: props.onClick\n  }), count, autoSize && React.createElement(\"textarea\", {\n    ref: hiddenTextAreaRef,\n    className: `${classPrefix}-element ${classPrefix}-element-hidden`,\n    value: value,\n    rows: rows,\n    \"aria-hidden\": true,\n    readOnly: true\n  })));\n});\nTextArea.defaultProps = defaultProps;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}